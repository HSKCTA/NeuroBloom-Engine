version: '3.8'

services:
  bridge:
    build: ./bridge
    ports:
      - "8000:8000"
    volumes:
      - ./bridge:/app
    command: uvicorn server:app --host 0.0.0.0 --port 8000 --reload

  web:
    build: ./web
    ports:
      - "5173:5173"
    volumes:
      - ./web:/app
      - /app/node_modules
    command: npm run dev -- --host

  # Core engine service (optional, if you want to containerize C++)
  # core:
  #   build: ./core
  #   ...
